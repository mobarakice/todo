import okhttp3.logging.HttpLoggingInterceptor.setLevel
import okhttp3.OkHttpClient.Builder.interceptors
import okhttp3.OkHttpClient.Builder.addInterceptor
import okhttp3.OkHttpClient.Builder.build
import androidx.appcompat.app.AppCompatActivity
import androidx.navigation.NavController
import androidx.navigation.ui.AppBarConfiguration
import android.os.Bundle
import com.mobarak.todo.R
import com.google.android.material.bottomnavigation.BottomNavigationView
import androidx.navigation.Navigation
import androidx.navigation.NavController.OnDestinationChangedListener
import androidx.navigation.NavDestination
import androidx.navigation.ui.NavigationUI
import com.mobarak.todo.data.AppRepository
import androidx.lifecycle.ViewModel
import io.reactivex.disposables.CompositeDisposable
import android.app.Application
import com.mobarak.todo.ui.base.AppApplication
import androidx.savedstate.SavedStateRegistryOwner
import androidx.lifecycle.AbstractSavedStateViewModelFactory
import androidx.lifecycle.SavedStateHandle
import com.mobarak.todo.ui.tasks.TasksViewModel
import com.mobarak.todo.ui.statistics.StatisticsViewModel
import com.mobarak.todo.ui.addedittask.AddEditTaskViewModel
import com.mobarak.todo.ui.taskdetail.TaskDetailViewModel
import com.mobarak.todo.ui.tasks.TaskDiffCallback
import android.view.ViewGroup
import android.view.LayoutInflater
import androidx.recyclerview.widget.RecyclerView
import androidx.recyclerview.widget.DiffUtil
import androidx.lifecycle.ViewModelProvider
import com.mobarak.todo.ui.base.ViewModelFactory
import com.mobarak.todo.data.AppRepositoryImpl
import com.mobarak.todo.utility.ViewUtil
import com.mobarak.todo.ui.tasks.FilterType
import android.view.MenuInflater
import androidx.navigation.NavDirections
import com.mobarak.todo.ui.tasks.TasksAdapter
import com.mobarak.todo.ui.base.BaseViewModel
import androidx.lifecycle.MutableLiveData
import androidx.annotation.StringRes
import androidx.annotation.DrawableRes
import io.reactivex.schedulers.Schedulers
import io.reactivex.android.schedulers.AndroidSchedulers
import androidx.databinding.BindingAdapter
import android.widget.TextView
import androidx.swiperefreshlayout.widget.SwipeRefreshLayout
import com.mobarak.todo.ui.statistics.StatsResult
import com.mobarak.todo.ui.statistics.StatisticsUtils
import com.mobarak.todo.ui.statistics.StatisticsFragment
import androidx.navigation.fragment.NavHostFragment
import com.mobarak.todo.utility.EventObserver
import com.mobarak.todo.utility.EventObserver.EventUnhandledContent
import androidx.room.Dao
import io.reactivex.Flowable
import androidx.room.OnConflictStrategy
import io.reactivex.Completable
import androidx.room.PrimaryKey
import androidx.room.ColumnInfo
import androidx.room.Database
import androidx.room.RoomDatabase
import com.mobarak.todo.data.db.dao.TaskDao
import kotlin.jvm.Volatile
import com.mobarak.todo.data.db.AppDatabase
import androidx.room.Room
import com.mobarak.todo.data.db.DbRepository
import com.mobarak.todo.data.db.DbRepositoryImpl
import com.google.gson.Gson
import com.google.gson.GsonBuilder
import retrofit2.Retrofit
import retrofit2.converter.gson.GsonConverterFactory
import com.mobarak.todo.data.remote.ApiClient
import okhttp3.logging.HttpLoggingInterceptor
import com.mobarak.todo.data.remote.RemoteRepository
import com.mobarak.todo.data.remote.RemoteRepositoryImpl
import com.mobarak.todo.data.preference.PreferenceRepository
import com.mobarak.todo.data.preference.PreferenceRepositoryImpl
import com.google.android.material.snackbar.Snackbar
import androidx.core.content.ContextCompat
import androidx.fragment.app.FragmentActivity
import com.mobarak.todo.ui.customview.ScrollChildSwipeRefreshLayout